<div class="container">
  <div class="row">
    <li class="nav-item bg-primary text-left"  *ngIf="action != 'view'" style="list-style: none">
      <a
        class="nav-link text-white"
        (click)="dialog.closeAll()"
        style="cursor: pointer; padding-left: 10px;"
        ><i class="fa-solid fa-arrow-left"></i> Annuler
      </a>
    </li>
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <h3 class="card-title text-left" style="width: 30em">
            <h2 class="">
              {{
                action === "view" ? "Fiche Station " + station.NomStation : ""
              }}
              {{
                action === "edit"
                  ? "Modifier la station " + station.NomStation
                  : ""
              }}
              {{ !action ? "Ajouter une station" : "" }}
            </h2>
          </h3>
          <form [formGroup]="stationForm" class="g-3 needs-validation">
            <div class="row" *ngIf="!isLoading; else loading">
              <div class="col-lg-6 mt-4">
                <label for="validationCustom01" class="form-label">
                  Code unique identifiant la station(*)
                </label>
                <input
                  [readonly]="action == 'view'"
                  type="text"
                  class="form-control hauteur hauteur text-uppercase"
                  formControlName="CiodeStation"
                />
              </div>

              <div class="col-lg-6 mt-4">
                <label for="validationCustom01" class="form-label">
                  Nom station(*)
                </label>
                <input
                  [readonly]="action == 'view'"
                  type="text"
                  class="form-control hauteur hauteur text-capitalize"
                  formControlName="NomStation"
                />
              </div>

              <div class="col-lg-6 mt-4">
                <label
                  for="validationCustom01"
                  class="form-label text-uppercase"
                >
                  Identifiant de connexion(*)
                </label>
                <input
                  [readonly]="action == 'view'"
                  type="text"
                  class="form-control hauteur hauteur"
                  formControlName="login"
                />
              </div>

              <div class="col-lg-6 mt-4">
                <label for="validationCustom01" class="form-label">
                  Adresse(*)
                </label>
                <input
                  [readonly]="action == 'view'"
                  type="text"
                  class="form-control hauteur hauteur"
                  formControlName="Adresse"
                />
              </div>
            </div>

            <div class="mt-3 m-auto text-center" *ngIf="action == 'view'">
              <section class="text-xl-center">
                <div class="example-label">Actions</div>
                <div class="example-button-row">
                  <button mat-raised-button color="primary" (click)="onEdit()">
                    Modifier
                  </button>
                  <button mat-raised-button color="accent" class="mx-2">
                    Points de vente
                  </button>
                  <button mat-raised-button color="warn" (click)="delete()">
                    Supprimer
                  </button>
                </div>
              </section>
            </div>
            <div
              class="mt-3 m-auto text-center"
              *ngIf="action == 'create' || action == 'edit'"
            >
              <section class="text-xl-center">
                <div class="example-button-row">
                  <button
                    mat-raised-button
                    color="accent"
                    (click)="submitForm()"
                    class="mx-2 bg-primary form-control text-white"
                    [disabled]="isLoading || stationForm.invalid"
                  >
                    {{ isLoading ? "Chargement..." : "Sauvegarder" }}
                  </button>
                </div>
              </section>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <ng-template #loading>
    <div class="fa-3x text-center mb-2 mt-2">
      <span class="fs-5 mb-2 mt-2"></span> <br /><br />
      <i class="fas text-primary spinner-grow"></i><br />
    </div>
  </ng-template>
</div>
